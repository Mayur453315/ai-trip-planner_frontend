{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let TripListComponent = class TripListComponent {\n  constructor(tripService) {\n    this.tripService = tripService;\n    this.trips = [];\n    this.userEmail = '';\n    this.userRole = '';\n  }\n  ngOnInit() {\n    this.userEmail = localStorage.getItem('email') || '';\n    this.userRole = localStorage.getItem('role') || '';\n    if (this.userEmail) {\n      this.getTrips();\n    }\n  }\n  getTrips() {\n    this.tripService.getTrips(this.userEmail).subscribe({\n      next: data => {\n        this.trips = data;\n      },\n      error: err => {\n        console.error('Failed to fetch trips', err);\n      }\n    });\n  }\n  deleteTrip(id) {\n    this.tripService.deleteTrip(id, this.userEmail).subscribe(() => {\n      this.trips = this.trips.filter(trip => trip.id !== id);\n    });\n  }\n};\nTripListComponent = __decorate([Component({\n  selector: 'app-trip-list',\n  templateUrl: './trip-list.component.html',\n  styleUrls: ['./trip-list.component.css']\n})], TripListComponent);","map":{"version":3,"names":["Component","TripListComponent","constructor","tripService","trips","userEmail","userRole","ngOnInit","localStorage","getItem","getTrips","subscribe","next","data","error","err","console","deleteTrip","id","filter","trip","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\tka\\travel-itinerary-frontend\\src\\app\\pages\\trip-list\\trip-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { TripService } from '../services/trip.service';\nimport { Trip } from '../models/trip.model';\n\n@Component({\n  selector: 'app-trip-list',\n  templateUrl: './trip-list.component.html',\n  styleUrls: ['./trip-list.component.css']\n})\nexport class TripListComponent implements OnInit {\n  trips: Trip[] = [];\n  userEmail: string = '';\n  userRole: string = '';\n\n  constructor(private tripService: TripService) {}\n\n  ngOnInit(): void {\n    this.userEmail = localStorage.getItem('email') || '';\n    this.userRole = localStorage.getItem('role') || '';\n\n    if (this.userEmail) {\n      this.getTrips();\n    }\n  }\n\n  getTrips(): void {\n    this.tripService.getTrips(this.userEmail).subscribe({\n      next: (data) => {\n        this.trips = data;\n      },\n      error: (err) => {\n        console.error('Failed to fetch trips', err);\n      }\n    });\n  }\n\n  deleteTrip(id: number): void {\n    this.tripService.deleteTrip(id, this.userEmail).subscribe(() => {\n      this.trips = this.trips.filter(trip => trip.id !== id);\n    });\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAK5BC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAJ/B,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,SAAS,GAAW,EAAE;IACtB,KAAAC,QAAQ,GAAW,EAAE;EAE0B;EAE/CC,QAAQA,CAAA;IACN,IAAI,CAACF,SAAS,GAAGG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;IACpD,IAAI,CAACH,QAAQ,GAAGE,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;IAElD,IAAI,IAAI,CAACJ,SAAS,EAAE;MAClB,IAAI,CAACK,QAAQ,EAAE;;EAEnB;EAEAA,QAAQA,CAAA;IACN,IAAI,CAACP,WAAW,CAACO,QAAQ,CAAC,IAAI,CAACL,SAAS,CAAC,CAACM,SAAS,CAAC;MAClDC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACT,KAAK,GAAGS,IAAI;MACnB,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,uBAAuB,EAAEC,GAAG,CAAC;MAC7C;KACD,CAAC;EACJ;EAEAE,UAAUA,CAACC,EAAU;IACnB,IAAI,CAACf,WAAW,CAACc,UAAU,CAACC,EAAE,EAAE,IAAI,CAACb,SAAS,CAAC,CAACM,SAAS,CAAC,MAAK;MAC7D,IAAI,CAACP,KAAK,GAAG,IAAI,CAACA,KAAK,CAACe,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACF,EAAE,KAAKA,EAAE,CAAC;IACxD,CAAC,CAAC;EACJ;CACD;AAhCYjB,iBAAiB,GAAAoB,UAAA,EAL7BrB,SAAS,CAAC;EACTsB,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWvB,iBAAiB,CAgC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}